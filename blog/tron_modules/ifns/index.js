(function(a){if(typeof exports=="object"||typeof exports==="function"&&typeof module=="object"){module.exports=a()}else{if(typeof define=="function"&&define.amd){return define([],a)}else{window.fns=a()}}})(function(){var a={};a.extend=function(c,d){for(var b in d){c[b]=d[b]}return c};a.randoms=function(c){var b="123456789poiuytrewqasdfghjklmnbvcxzQWERTYUIPLKJHGFDSAZXCVBNM";var e="";for(var d=0;d<c;d++){e+=b.charAt(Math.ceil(Math.random()*100000000)%b.length)}return e};a.getIP=function(){var b=String(Request.ServerVariables("HTTP_X_FORWARDED_FOR")).toLowerCase();if(b=="undefined"||b===undefined){b=String(Request.ServerVariables("REMOTE_ADDR")).toLowerCase()}return b};a.type=function(b){return Object.prototype.toString.call(b).split(" ")[1].toLowerCase().replace("]","")};a.unParams=function(f){var e=f.split("&"),c={};for(var d=0;d<e.length;d++){var b=e[d].split("=");c[b[0]]=b[1]}return c};a.params=function(d){if(!d||d===null||d===false||d===undefined){return null}if(typeof d==="object"){var b=[],c;for(c in d){b.push(c+"="+d[c])}return b.join("&")}else{return d}};a.jsonp=function(d,f){var e={};e[f]=function(c){return c};var b=new Function("return this."+d);return b.call(e)};a.SQLStr=function(f){if(!f){return""}try{f=f+""}catch(d){return""}var b=[[/(w)(here)/ig,"$1h&#101;re"],[/(s)(elect)/ig,"$1el&#101;ct"],[/(i)(nsert)/ig,"$1ns&#101;rt"],[/(c)(reate)/ig,"$1r&#101;ate"],[/(d)(rop)/ig,"$1ro&#112;"],[/(a)(lter)/ig,"$1lt&#101;r"],[/(d)(elete)/ig,"$1el&#101;te"],[/(u)(pdate)/ig,"$1p&#100;ate"],[/(\s)(or)/ig,"$1o&#114;"],[/(java)(script)/ig,"$1scri&#112;t"],[/(j)(script)/ig,"$1scri&#112;t"],[/(vb)(script)/ig,"$1scri&#112;t"],[/(expression)/ig,"e&#173;pression"],[/(c)(ookie)/ig,"&#99;ookie"],[/(Object)/ig,"&#79;bject"],[/(script)/ig,"scri&#112;t"]];for(var c=0;c<b.length;c++){f=f.replace(b[c][0],b[c][1])}return f};a.unSQLStr=function(f){if(!f){return""}try{f=f+""}catch(d){return""}var b=[[/(w)(h&#101;re)/ig,"$1here"],[/(s)(el&#101;ct)/ig,"$1elect"],[/(i)(ns&#101;rt)/ig,"$1nsert"],[/(c)(r&#101;ate)/ig,"$1reate"],[/(d)(ro&#112;)/ig,"$1rop"],[/(a)(lt&#101;r)/ig,"$1lter"],[/(d)(el&#101;te)/ig,"$1elete"],[/(u)(p&#100;ate)/ig,"$1pdate"],[/(\s)(o&#114;)/ig,"$1or"],[/(java)(scri&#112;t)/ig,"$1script"],[/(j)(scri&#112;t)/ig,"$1script"],[/(vb)(scri&#112;t)/ig,"$1script"],[/(e&#173;pression)/ig,"expression"],[/&#99;(ookie)/ig,"c$1"],[/&#79;(bject)/ig,"O$1"],[/(scri)&#112;(t)/ig,"$1p$2"]];for(var c=0;c<b.length;c++){f=f.replace(b[c][0],b[c][1])}return f};a.HTMLStr=function(f){if(!f){return""}try{f=f+""}catch(d){return""}var b=[[/\</g,"&#60;"],[/\>/g,"&#62;"],[/\'/g,"&#39;"],[/\"/g,"&#34;"]];for(var c=0;c<b.length;c++){f=f.replace(b[c][0],b[c][1])}return f};a.removeHTML=function(b){return b.replace(/\<[^>]+\>/g,"")};a.unHTMLStr=function(f){if(!f){return""}try{f=f+""}catch(d){return""}var b=[[/\&\#60\;/g,"<"],[/\&\#62\;/g,">"],[/\&\#39\;/g,"'"],[/\&\#34\;/g,'"']];for(var c=0;c<b.length;c++){f=f.replace(b[c][0],b[c][1])}return f};a.textareaStr=function(f){if(!f){return""}try{f=f+""}catch(d){return""}var b=[[/textarea/ig,"t&#101;xtarea"]];for(var c=0;c<b.length;c++){f=f.replace(b[c][0],b[c][1])}return f};a.unTextareaStr=function(f){if(!f){return""}try{f=f+""}catch(d){return""}var b=[[/t&#101;xtarea/ig,"textarea"]];for(var c=0;c<b.length;c++){f=f.replace(b[c][0],b[c][1])}return f};a.cutStr=function(q,d,m,b){if(!q){return""}try{q=q+""}catch(l){return""}var p="",f=0;for(var h=0;h<q.length;h++){var o=q.charAt(h);if(m){var k=/[^\u4E00-\u9FA5]/g.test(o);if(k&&(f+1<=d)){f++;p+=o}else{if(f+2<=d){f=f+2;p+=o}else{break}}}else{if(f+1<=d){f++;p+=o}else{break}}}if(p!=q){p+=(b||"...")}return p};return a});